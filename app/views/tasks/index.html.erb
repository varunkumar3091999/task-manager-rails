<p id="notice"><%= notice %></p>

<div class="d-flex justify-content-between" >
<h1>Tasks</h1>
<%= link_to 'sign out', destroy_user_session_path, method: :delete, class: "btn btn-danger m-2" %>
</div>
<div class="card">
  <div class="card-body">
    <table class='table'>
      <thead>
        <tr>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">Status</th>
          <th scope="col" class="text-right">action</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @tasks.each do |task| %>
          <tr>
            <td><%= task.title %></td>
            <td><%= task.description %></td>
            <td><%= task.status.humanize %></td>

            <td>
            <div class="text-right">
              <% if task.status == "pending" %>
                <%= link_to 'Mark as done', mark_as_done_task_path(task), method: :post , class: "btn btn-success"%>
              <% end%>
              <%= link_to 'Edit', edit_task_path(task), class: "btn btn-primary" %>
              <%= link_to 'Show', task , class: "btn btn-info"%>
              <%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger destroy_task",  :remote => true%>

            </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <br>

    <%= link_to 'New Task', new_task_path, class: "btn btn-primary" %>
    <%= link_to 'Home', root_path, class: "btn btn-info" %>
  </div>
</div>